{"version":3,"sources":["app/SearchMovie/SearchMovie.controller.js"],"names":["searchMovieComponent","$http","$scope","socket","MovieData","MovieDetails","$on","unsyncUpdates","get","MovieName","Year","then","console","log","response","data","results","id","MovieID","movieres","post","Title","original_title","Duration","runtime","Poster","poster_path","Genre","gen","syncUpdates","Movie","delete","_id","angular","module","component","templateUrl","controller","controllerAs"],"mappings":"AAAC;;;;;;AAED,CAAC,YAAW;AAAA,MAEJA,oBAFI;AAGR,kCAAYC,KAAZ,EAAmBC,MAAnB,EAA2BC,MAA3B,EAAmC;AAAA;;AACjC,WAAKF,KAAL,GAAaA,KAAb;;AAEA,WAAKC,MAAL,GAAcA,MAAd;AACA,WAAKE,SAAL;AACA,WAAKC,YAAL,GAAoB,EAApB;;AAEAH,aAAOI,GAAP,CAAW,UAAX,EAAuB,YAAU;AAC/BH,eAAOI,aAAP,CAAqB,qBAArB;AACD,OAFD;AAGD;;AAbO;AAAA;AAAA,kCAeI;AAAA;;AACV,aAAKN,KAAL,CAAWO,GAAX,CAAe,8FAA8F,KAAKC,SAAnG,GAA+G,QAA/G,GAA0H,KAAKC,IAA9I,EAAoJC,IAApJ,CAAyJ,oBAAY;AACnKC,kBAAQC,GAAR,CAAYC,SAASC,IAAT,CAAcC,OAAd,CAAsB,CAAtB,EAAyBC,EAArC;AACA,cAAIC,UAAUJ,SAASC,IAAT,CAAcC,OAAd,CAAsB,CAAtB,EAAyBC,EAAvC;AACA,gBAAKhB,KAAL,CAAWO,GAAX,CAAe,wCAAwCU,OAAxC,GAAkD,2CAAjE,EAA8GP,IAA9G,CAAmH,oBAAY;AAC7H,kBAAKP,SAAL,GAAiBe,SAASJ,IAA1B;AACAH,oBAAQC,GAAR,CAAY,MAAKT,SAAjB;AACD,WAHD;AAID,SAPD;AAQD;AAxBO;AAAA;AAAA,iCA0BG;;AAETQ,gBAAQC,GAAR,CAAY,eAAZ;AACH,aAAKZ,KAAL,CAAWmB,IAAX,CAAgB,2BAAhB,EAA6C;;AAE9CC,iBAAO,KAAKjB,SAAL,CAAekB,cAFwB;AAGhDC,oBAAU,KAAKnB,SAAL,CAAeoB,OAHuB;AAI7CC,kBAAQ,KAAKrB,SAAL,CAAesB,WAJsB;AAK7CC,iBAAM,KAAKvB,SAAL,CAAewB;AALwB,SAA7C;AAOC;AApCQ;AAAA;AAAA,gCAuCA;AAAA;;AAEH,aAAK3B,KAAL,CAAWO,GAAX,CAAe,2BAAf,EAA4CG,IAA5C,CAAiD,oBAAY;AAC3D,iBAAKN,YAAL,GAAoBS,SAASC,IAA7B;AACA,iBAAKZ,MAAL,CAAY0B,WAAZ,CAAwB,sBAAxB,EAAgD,OAAKxB,YAArD;AACD,SAHD;AAKJ;AA9CO;AAAA;AAAA,6BAkDDyB,KAlDC,EAkDK;AACjBlB,gBAAQC,GAAR,CAAY,wBAAZ;AACS,aAAKZ,KAAL,CAAW8B,MAAX,CAAkB,+BAA+BD,MAAME,GAAvD;AAEN;AAtDS;;AAAA;AAAA;;AAyDVC,UAAQC,MAAR,CAAe,eAAf,EACGC,SADH,CACa,aADb,EAC4B;AACxBC,iBAAa,kCADW;AAExBC,gBAAYrC,oBAFY;AAGxBsC,kBAAc;AAHU,GAD5B;AAOD,CAhED","file":"SearchMovie.controller.js","sourcesContent":[" 'use strict';\n\n(function() {\n\n  class searchMovieComponent {\n    constructor($http, $scope, socket) {\n      this.$http = $http;\n\n      this.$scope = $scope;\n      this.MovieData;\n      this.MovieDetails = [];\n\n      $scope.$on('$destroy', function(){\n        socket.unsyncUpdates('SearchMovieendpoint');\n      });\n    }\n\n    FindMovie() {\n      this.$http.get('https://api.themoviedb.org/3/search/movie?api_key=e98ca6e8024686f7117e1bb4fdfeaee5&query=' + this.MovieName + '&year=' + this.Year).then(response => {\n        console.log(response.data.results[0].id);\n        var MovieID = response.data.results[0].id;\n        this.$http.get('https://api.themoviedb.org/3/movie/' + MovieID + '?api_key=e98ca6e8024686f7117e1bb4fdfeaee5').then(movieres => {\n          this.MovieData = movieres.data;\n          console.log(this.MovieData);\n        });\n      });\n    }\n\n    addMovie() {\n\n      console.log(\"function call\");\n   this.$http.post('/api/SearchMovieendpoints', {\n\n  Title: this.MovieData.original_title,\nDuration: this.MovieData.runtime,\n   Poster: this.MovieData.poster_path,\n   Genre:this.MovieData.gen\n   });\n   }\n\n\n   $onInit(){\n\n         this.$http.get('/api/SearchMovieendpoints').then(response => {\n           this.MovieDetails = response.data;\n           this.socket.syncUpdates('SearchMovieendpoints', this.MovieDetails);\n         });\n\n    }\n\n\n\n    remove(Movie){\nconsole.log(\"function called delete\");\n         this.$http.delete('/api/SearchMovieendpoints/' + Movie._id);\n\n  }\n  }\n\n  angular.module('yoTemplateApp')\n    .component('searchMovie', {\n      templateUrl: 'app/SearchMovie/SearchMovie.html',\n      controller: searchMovieComponent,\n      controllerAs: 'SearchMovieCtrl'\n    });\n\n})();\n"]}