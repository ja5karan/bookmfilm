{"version":3,"sources":["app/movies/movies.controller.js"],"names":["MoviesComponent","$http","$scope","socket","MovieData","MovieDetails","$on","unsyncUpdates","get","MovieName","Year","then","console","log","response","data","results","id","MovieID","movieres","post","year","Title","original_title","StarCast","cast","Duration","runtime","Language","lang","Poster","cov","Genre","gen","name","syncUpdates","Movie","delete","_id","angular","module","component","templateUrl","controller","controllerAs"],"mappings":"AAAA;;;;;;AAEA,CACE,YAAU;AAAA,MAENA,eAFM;AAGV,6BAAYC,KAAZ,EAAmBC,MAAnB,EAA2BC,MAA3B,EAAmC;AAAA;;AACjC,WAAKF,KAAL,GAAaA,KAAb;AACA,WAAKE,MAAL,GAAcA,MAAd;AACA,WAAKD,MAAL,GAAYA,MAAZ;AACA,WAAKE,SAAL,GAAgB,EAAhB;AACA,WAAKC,YAAL,GAAmB,EAAnB;;AAEAH,aAAOI,GAAP,CAAW,UAAX,EAAuB,YAAW;AAChCH,eAAOI,aAAP,CAAqB,gBAArB;AACD,OAFD;AAGH;;AAbW;AAAA;AAAA,oCAeI;AAAA;;AACX,aAAKN,KAAL,CAAWO,GAAX,CAAe,8FAA8F,KAAKC,SAAnG,GAA+G,QAA/G,GAA0H,KAAKC,IAA9I,EAAoJC,IAApJ,CAAyJ,oBAAY;AACnKC,kBAAQC,GAAR,CAAYC,SAASC,IAAT,CAAcC,OAAd,CAAsB,CAAtB,EAAyBC,EAArC;AACA,cAAIC,UAAUJ,SAASC,IAAT,CAAcC,OAAd,CAAsB,CAAtB,EAAyBC,EAAvC;AACA,gBAAKhB,KAAL,CAAWO,GAAX,CAAe,wCAAwCU,OAAxC,GAAkD,2CAAjE,EAA8GP,IAA9G,CAAmH,oBAAY;AAC7H,kBAAKN,YAAL,GAAoBc,SAASJ,IAA7B;AACAH,oBAAQC,GAAR,CAAY,MAAKR,YAAjB;AACC,WAHH;AAIA,SAPF;AASF;AAzBS;AAAA;AAAA,iCA2BC;AACZ,aAAKJ,KAAL,CAAWmB,IAAX,CAAgB,sBAAhB,EAAwC;AACvCX,qBAAW,KAAKA,SADuB;AAEvCC,gBAAM,KAAKL,YAAL,CAAkBgB,IAFe;AAGvCC,iBAAO,KAAKjB,YAAL,CAAkBkB,cAHc;AAIrCC,oBAAU,KAAKnB,YAAL,CAAkBoB,IAJS;AAKrCC,oBAAU,KAAKrB,YAAL,CAAkBsB,OALS;AAMxCC,oBAAU,KAAKvB,YAAL,CAAkBwB,IANY;AAOxCC,kBAAQ,KAAKzB,YAAL,CAAkB0B,GAPc;AAQxCC,iBAAM,KAAK3B,YAAL,CAAkB4B,GAAlB,CAAsBC;AARY,SAAxC;AAUC;AAtCU;AAAA;AAAA,gCAyCF;AAAA;;AACH,aAAKjC,KAAL,CAAWO,GAAX,CAAe,sBAAf,EAAuCG,IAAvC,CAA4C,oBAAY;AACtD,iBAAKP,SAAL,GAAiBU,SAASC,IAA1B;AACA,iBAAKZ,MAAL,CAAYgC,WAAZ,CAAwB,gBAAxB,EAA0C,OAAK/B,SAA/C;AACD,SAHD;AAKJ;AA/CS;AAAA;AAAA,6BAmDHgC,KAnDG,EAmDG;;AAER,aAAKnC,KAAL,CAAWoC,MAAX,CAAkB,0BAA0BD,MAAME,GAAlD;AAEN;AAvDW;;AAAA;AAAA;;AA4DZC,UAAQC,MAAR,CAAe,eAAf,EACGC,SADH,CACa,QADb,EACuB;AACnBC,iBAAa,wBADM;AAEnBC,gBAAY3C,eAFO;AAGnB4C,kBAAc;AAHK,GADvB;AAOC,CApED","file":"movies.controller.js","sourcesContent":["'use strict';\n\n(\n  function(){\n\nclass MoviesComponent {\n  constructor($http, $scope, socket) {\n    this.$http = $http;\n    this.socket = socket;\n    this.$scope=$scope;\n    this.MovieData =[];\n    this.MovieDetails =[];\n\n    $scope.$on('$destroy', function() {\n      socket.unsyncUpdates('moviesendpoint');\n    });\n}\n\n   SearchMovie(){\n     this.$http.get('https://api.themoviedb.org/3/search/movie?api_key=e98ca6e8024686f7117e1bb4fdfeaee5&query=' + this.MovieName + '&year=' + this.Year).then(response => {\n       console.log(response.data.results[0].id);\n       var MovieID = response.data.results[0].id;\n       this.$http.get('https://api.themoviedb.org/3/movie/' + MovieID + '?api_key=e98ca6e8024686f7117e1bb4fdfeaee5').then(movieres => {\n         this.MovieDetails = movieres.data;\n         console.log(this.MovieDetails);\n         });\n      });\n\n  }\n\n  addMovie() {\n this.$http.post('/api/moviesendpoints', {\n  MovieName: this.MovieName,\n  Year: this.MovieDetails.year,\n  Title: this.MovieDetails.original_title,\n    StarCast: this.MovieDetails.cast,\n    Duration: this.MovieDetails.runtime,\n Language: this.MovieDetails.lang,\n Poster: this.MovieDetails.cov,\n Genre:this.MovieDetails.gen.name\n });\n }\n\n\n $onInit(){\n       this.$http.get('/api/moviesendpoints').then(response => {\n         this.MovieData = response.data;\n         this.socket.syncUpdates('moviesendpoint', this.MovieData);\n       });\n\n  }\n\n\n\n  remove(Movie){\n\n       this.$http.delete('/api/moviesendpoints/' + Movie._id);\n\n}\n\n\n}\n\nangular.module('yoTemplateApp')\n  .component('movies', {\n    templateUrl: 'app/movies/movies.html',\n    controller: MoviesComponent,\n    controllerAs: 'moviesCtrl'\n  });\n\n})();\n"]}